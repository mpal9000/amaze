{"version":3,"sources":["../../src/results/index.js"],"names":[],"mappings":";;;;;;;;;;;;;qBAkBwB,OAAO;;0BAdV,aAAa;;;;2BAClB,eAAe;;;;gCACV,oBAAoB;;;;+BACrB,mBAAmB;;;;uBACjB,SAAS;;;;0BAER,eAAe;;;;AAEtC,IAAM,UAAU,GAAG,4DAAa,CAAC;;;;;;AAMlB,SAAS,OAAO,GAAG;AAChC,SAAO,IAAI,CAAC;CACb;;;;;;AAMD,SAAS,UAAU,CAAC,KAAK,EAAE;AACzB,SAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM,EAAI;AACjC,QAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAClC,WAAO;AACL,QAAE,EAAE,GAAG,CAAC,EAAE;AACV,WAAK,EAAE,GAAG,CAAC,KAAK;AAChB,UAAI,EAAE,MAAM,CAAC,IAAI;KAClB,CAAC;GACH,CAAC,CAAC;CACJ;;;;;;AAMD,OAAO,CAAC,MAAM,GAAG,SAAS,MAAM,CAAC,KAAK,EAAE;AACtC,MAAM,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;;AAElC,SAAO,gBACL,uBAAuB,EACvB,4BAAe,qBAAG,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,EAAE;AACjD,SAAK,EAAE;AACL,cAAQ,EAAE,UAAU;AACpB,SAAG,EAAE,CAAC;AACN,WAAK,EAAE,CAAC;AACR,YAAM,EAAE,CAAC;AACT,UAAI,EAAE,CAAC;KACR;GACF,CAAC,CACH,CAAC;CACH,CAAA;;;;;;AAMD,SAAS,aAAa,CAAC,OAAO,EAAE;AAC9B,SAAO,gBAAE,wBAAwB,EAAE,CACjC,gBAAE,IAAI,EAAE,SAAS,CAAC,EAElB,qBAAG,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,CACjC,CAAC,CAAC;CACJ;;;;;;AAMD,SAAS,WAAW,CAAC,OAAO,EAAE;AAC5B,SAAO,gBAAE,2BAA2B,GAClC,qBAAG,OAAO,CAAC,aAAa,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,4BAEhD,UAAU,CAAC,kCAAQ,qBAAG,OAAO,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,GACtD,CAAC;CACJ;;;;;;AAMD,SAAS,aAAa,CAAC,KAAK,EAAE;AAC5B,SAAO,gBAAE,IAAI,EAAE,8BAAI,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC;CAC1C;;;;;;AAMD,SAAS,YAAY,CAAC,IAAI,EAAE;AAC1B,SAAO,gBAAE,IAAI,EAAE,gBAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;CACjC;;;;;;AAMD,SAAS,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE;AAChC,SAAO,gBAAE,IAAI,EAAE,CACb,gBAAE,IAAI,QAAK,KAAK,GAAG,CAAC,CAAA,CAAG,EAEvB,gBAAE,IAAI,EAAE,qBAAG,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,EAEtC,gBAAE,IAAI,OAAK,4BAAa,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAG,CACnD,CAAC,CAAC;CACJ;;;;;;AAMD,SAAS,SAAS,CAAC,MAAM,EAAE;AACzB,MAAM,KAAK,YAAU,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,MAAG,CAAC;;AAE5C,SAAO,gBACL,2BAA2B,EAC3B,gBAAE,oBAAoB,EAAE;AACtB,SAAK,EAAE,EAAE,kBAAkB,EAAE,KAAK,EAAE;GACrC,CAAC,CACH,CAAC;CACH","file":"index.js","sourcesContent":["/**\n * Module dependencies\n */\n\nimport Duration from 'duration-js';\nimport map from 'ramda/src/map';\nimport addIndex from 'ramda/src/addIndex';\nimport partial from 'ramda/src/partial';\nimport hg, { h } from 'mercury';\n\nimport Scrollable from '../scrollable';\n\nconst mapIndexed = addIndex(map);\n\n/**\n * Component\n */\n\nexport default function Results() {\n  return null;\n}\n\n/**\n *\n */\n\nfunction getResults(props) {\n  return props.winners.map(winner => {\n    const bot = props.bots[winner.id];\n    return {\n      id: bot.id,\n      color: bot.color,\n      time: winner.time,\n    };\n  });\n}\n\n/**\n * Render component.\n */\n\nResults.render = function render(props) {\n  const results = getResults(props);\n\n  return h(\n    'section.amaze-Results',\n    new Scrollable(hg.partial(renderContent, results), {\n      style: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n      },\n    })\n  );\n}\n\n/**\n *\n */\n\nfunction renderContent(results) {\n  return h('.amaze-Results-content', [\n    h('h1', 'Results'),\n\n    hg.partial(renderTable, results),\n  ]);\n}\n\n/**\n *\n */\n\nfunction renderTable(results) {\n  return h('table.amaze-Results-table', [\n    hg.partial(renderHeaders, ['Place', 'Bot', 'Time']),\n\n    ...mapIndexed(partial(hg.partial, renderRow), results),\n  ]);\n}\n\n/**\n *\n */\n\nfunction renderHeaders(texts) {\n  return h('tr', map(renderHeader, texts));\n}\n\n/**\n *\n */\n\nfunction renderHeader(text) {\n  return h('th', h('span', text));\n}\n\n/**\n *\n */\n\nfunction renderRow(result, index) {\n  return h('tr', [\n    h('td', `${index + 1}`),\n\n    h('td', hg.partial(renderBot, result)),\n\n    h('td', `${new Duration(result.time).toString()}`),\n  ]);\n}\n\n/**\n *\n */\n\nfunction renderBot(result) {\n  const color = `rgb(${result.color.join()})`;\n\n  return h(\n    '.amaze-Results-botWrapper',\n    h('.amaze-Results-bot', {\n      style: { 'background-color': color },\n    })\n  );\n}\n"]}