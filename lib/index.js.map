{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;qBAgBwB,KAAK;;uBAVT,SAAS;;iCACN,qBAAqB;;;;8BACrB,iBAAiB;;;;mBAExB,OAAO;;;;;;;;AAMR,SAAS,KAAK,CAAC,IAAI,EAAa;MAAX,IAAI,yDAAG,EAAE;;;AAE3C,MAAM,KAAK,GAAG,sBAAI,eAAc,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAJ,IAAI,EAAE,IAAI,EAAJ,IAAI,EAAE,CAAC,CAAC,CAAC;;AAE3D,MAAM,OAAO,GAAG,oCAAW,KAAK,CAAC,CAAC;AAClC,WAAS,IAAI,GAAG;AAAE,WAAO,OAAO,CAAC,IAAI,EAAE,CAAC;GAAE;AAC1C,WAAS,IAAI,GAAG;AAAE,WAAO,OAAO,CAAC,IAAI,EAAE,CAAC;GAAE;;;AAG1C,oBAAI,IAAI,EAAE,KAAK,EAAE,iBAAI,MAAM,EAAE;AAC3B,eAAW,EAAE,iCAAW,IAAI,CAAC;AAC7B,UAAM,EAAE,IAAI;GACb,CAAC,CAAC;;;AAGH,OAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;CACpB","file":"index.js","sourcesContent":["/**\n * Module dependencies\n */\n\n// import 'core-js/shim.js';\n// import 'babel-runtime/node_modules/core-js/shim.js';\nimport { app } from 'mercury';\nimport TimeTravel from 'mercury/time-travel';\nimport virtualize from 'vdom-virtualize';\n\nimport App from './app';\n\n/**\n *\n */\n\nexport default function amaze(root, opts = {}) {\n  // Get initial app state\n  const state = App(Object.assign({}, opts, { undo, redo }));\n\n  const history = TimeTravel(state);\n  function undo() { return history.undo(); }\n  function redo() { return history.redo(); }\n\n  // Create a rendering cycle for the app vtree\n  app(null, state, App.render, {\n    initialTree: virtualize(root),\n    target: root,\n  });\n\n  // Trigger the initial render\n  state.set(state());\n}\n"]}