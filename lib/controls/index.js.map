{"version":3,"sources":["../../src/controls/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * Module dependencies\n */\n\nimport partialRight from 'ramda/src/partialRight';\nimport _memoize from 'memoizee';\nimport hg, { h } from 'mercury';\n\nimport { sendTap } from '../gestures';\nimport Logo from '../logo';\nimport BotHandle from '../bot-handle';\nimport Button from '../button';\n\nconst memoize = partialRight(_memoize, { max: 1 });\n\n/**\n * Component\n */\n\nexport default function Controls({ undo, redo }) {\n  return hg.state({\n    startPauseBtn: Button(),\n    resetBtn: Button(),\n    undoBtn: Button(),\n    redoBtn: Button(),\n    botHandle: BotHandle(),\n    channels: { undo, redo },\n  });\n}\n\n/**\n * Render component.\n */\n\nconst startPauseBtnProps = memoize((isReady, isRunning, onStart, onPause, onReset, winners) => {\n  const disabled = !isReady;\n\n  return Object.assign({\n    disabled,\n    className: isRunning ? 'amaze-Button--pause' : 'amaze-Button--start',\n    children: winners ? 'New' : isRunning ? 'Pause' : 'Start',\n  }, !disabled ? {\n    'ev-event': sendTap(winners ? onReset : isRunning ? onPause : onStart),\n  } : {});\n});\n\nconst resetBtnProps = memoize((isRunning, onReset, winners) => {\n  const disabled = isRunning || winners && winners.length;\n\n  return Object.assign({\n    disabled,\n    children: 'Reset',\n  }, !disabled ? {\n    'ev-event': sendTap(onReset),\n  } : {});\n});\n\nconst undoBtnProps = memoize((undo, isStarted) => {\n  const disabled = isStarted;\n\n  return Object.assign({\n    disabled,\n    children: 'Undo',\n  }, !disabled ? {\n    'ev-click': hg.sendClick(undo),\n  } : {});\n});\n\nconst redoBtnProps = memoize((redo, isStarted) => {\n  const disabled = isStarted;\n\n  return Object.assign({\n    disabled,\n    children: 'Redo',\n  }, !disabled ? {\n    'ev-click': hg.sendClick(redo),\n  } : {});\n});\n\nconst botHandleProps = memoize((botIdentity, addBotRandomly, isStarted) => {\n  const disabled = isStarted;\n\n  return { botIdentity, addBotRandomly, disabled };\n});\n\nControls.render = function render(state, props) {\n  const {\n    botIdentity,\n    isReady, isStarted, isRunning,\n    onStart, onPause, onReset,\n    winners,\n  } = props;\n\n  return h('section.amaze-Controls.u-cf', [\n    hg.partial(Logo.render),\n\n    h('.amaze-Controls-buttons.u-cf', [\n      hg.partial(\n        Button.render,\n        state.startPauseBtn,\n        startPauseBtnProps(isReady, isRunning, onStart, onPause, onReset, winners)\n      ),\n\n      hg.partial(\n        Button.render,\n        state.resetBtn,\n        resetBtnProps(isRunning, onReset, winners)\n      ),\n\n      hg.partial(\n        Button.render,\n        state.undoBtn,\n        undoBtnProps(state.channels.undo, isStarted)\n      ),\n\n      hg.partial(\n        Button.render,\n        state.redoBtn,\n        redoBtnProps(state.channels.redo, isStarted)\n      ),\n    ]),\n\n    hg.partial(\n      BotHandle.render,\n      state.botHandle,\n      botHandleProps(botIdentity, props.addBotRandomly, isStarted)\n    ),\n  ]);\n}\n"]}